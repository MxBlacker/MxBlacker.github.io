---
tags:
  - python
date: 2025-10-10
layout: post
title: Tkinter - 更多组件，更多操作和更多窗口
---
## Tk窗口进阶配置
#### configure / config
设置方法如下，有多种不同参数
```Python
root.configure(bg='color' , ...)
```

**这允许你动态的修改已经设定好的值**

#### attributes
设置方法如下，有多种不同参数
```Python
root.attributes('-alpha',value)
```

- **-alpha** 不透明度
- **-topmost** 是否指定 (True / False )
- **-transparentcolor** 后面跟#RGB的十六进制码，由于tkinter读颜色只支持6为，透明度的码不读，所以专门搞了一个属性来指定一个颜色，设定为透明色

#### protocol
顾名思义，协议指的是你对窗口进行一些特定操作时发送的协议，这里举一个点击**x**的例子

```Python
root.protocol('WM_DELETE_WINDOW',function_name)
```

这个函数默认为`root.destroy`，即销毁程序，当然你也可以弹出一个确认窗口

###### 例1 确认关闭窗口
```python
def check_destroy():
	d1 = messagebox.askokcancel('是否关闭','确认关闭吗')
	if d1 == True:
		root.destroy()
	else:
		pass
root.protocol('WM_DELETE_WINDOW',check_destroy)
```

## 顶层窗口 Toplevel
官方叫法叫顶层窗口，实际上就是**嵌套菜单**，即在根窗口打开的子级窗口
- 它的用法和属性和**Tk**一样，只不过名字换成了**Toplevel**
- 要在**Toplevel**里添加组件，只需要将组件里的**第一个值**改成**Toplevel**的名字就行了

```python
root_window = tk.Tk()
def sign_up():
	sub_window = tk.Toplevel()
	sub_window.resizeable(True,True)
	
	Sub_window_label_1 = tk.Label(sub_window , text = '...')
	...
	
button_sign_up = tk.Button(text = '注册' , command = sign_up).place(x,y)
```

> [!attention] 在弹出顶层窗口之后，焦点一般不在这个窗口上，这时候需要使用
> ```Python
> sub_window.focus_set()
> ```
> 来设置焦点（按自然语言来说，这是倒装语句）

## 单选框 radiobutton
**单选框**是圆形的，也需要一个变量来读取

```Python
s2 = tk.StringVar()
tk.Radiobutton(window , text = '1' , variable = s2 , value = 'value_1')
tk.Radiobutton(window , text = '2' , variable = s2 , value = 'value_2')

s2.set('value_1')
```

上面一段程序就是默认选取value_1的**两个互斥的单选框**，和HTML较为相像

## 多选框 checkbutton
**多选框 / 复选框**是方形的，非常形象，这里的check就像check清单一样，有一项打一个勾

```Python
intvar_1 = tk.IntVar()
intvar_2 = tk.IntVar()
tk.Checkbutton(window , text = '1' , variable = intvar_1 , onvalue = 1 , off_value = -1)
tk.Checkbutton(window , text = '2' , variable = intvar_2 , onvalue = 2 , off_value = -2)
```

因为onvalue和offvalue的同时存在，**Checkbutton不能将绑定对象设定为同一个变量**

## 下拉列表
下拉列表规定了你可以选择哪些选项，但是其实质还是一个输入框
```Python
#没有tk.
s3 = tk.StringVar()
Combobox_1 = Combobox(window , textvariable = s3 , values = ['1','2','3'] , state = "readonly")

Combobox_1.current(index)
```

记得把模式调为只读，否则它的作用和输入框差不多
- **current**：默认的值，index是后面列表里的index

## 菜单 Menu
菜单需要与窗口**双向绑定**
- 若**菜单长度超出窗口大小**，则会另起一行，类似于**表格布局 grid**

>[!attention] 在创建了第一级菜单之后，如果想要继续创建**下拉菜单**，则需要菜单的嵌套

```Python
Root_Menu = tk.Menu(root) #双向绑定
Root_Menu.add_cascade(label = '下拉选项' , tear-off = False , menu = Sub_Menu) #双向绑定

Sub_Menu = tk.Menu(Root_Menu) #双向绑定
Sub_Menu.add_cascade(label = 'plus one' , command = ...)
Sub_Menu.add_radiobutton(label = '')

root.config(menu = Root_Menu) #双向绑定
```

- **add_cascade**：顾名思义，添加级联，也就是**下拉栏显示的名称**
- **config**：双向绑定
- **tear-off**：早期窗口是可以和主窗口分离开了，这里就关闭这个功能里

## 列表框
这个列表其实很简单，就是每一行显示一个字符串
```Python
ListBox_1 = tk.Listbox(window , width = ... , height = ...)

ListBox_1.insert(END , '追加内容')
ListBox_1.delete(startpos , endpos) #如果只有一个值就是那个索引上的值
ListBox_1.get(startpos , endpos) #如果只有一个值就是那个索引上的值
```

- **insert**：插入内容，END表示添加到**列表尾部**