<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>STM32 - 基础 | 麦香包の超平坦世界</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="STM32 - 基础" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="#嵌入式 STM32F103C8T6" />
<meta property="og:description" content="#嵌入式 STM32F103C8T6" />
<link rel="canonical" href="http://localhost:4000/2025/09/16/STM32-0-%E5%9F%BA%E7%A1%80.html" />
<meta property="og:url" content="http://localhost:4000/2025/09/16/STM32-0-%E5%9F%BA%E7%A1%80.html" />
<meta property="og:site_name" content="麦香包の超平坦世界" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-09-16T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="STM32 - 基础" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-09-16T00:00:00+08:00","datePublished":"2025-09-16T00:00:00+08:00","description":"#嵌入式 STM32F103C8T6","headline":"STM32 - 基础","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2025/09/16/STM32-0-%E5%9F%BA%E7%A1%80.html"},"url":"http://localhost:4000/2025/09/16/STM32-0-%E5%9F%BA%E7%A1%80.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="麦香包の超平坦世界" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">麦香包の超平坦世界</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">STM32 - 基础</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2025-09-16T00:00:00+08:00" itemprop="datePublished">Sep 16, 2025
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>#嵌入式</p>
<h1 id="stm32f103c8t6"><strong><em>STM32F103C8T6</em></strong></h1>

<ul>
  <li>ST是公司的名字，而M代表MCU (MicroControlUnit)，32是32位</li>
  <li>F代表通用型</li>
  <li>101 = 基本型 102 = USB基本型 103 = 增强型 105/107 = 互联型</li>
  <li>T = 36脚 C = 48脚 R = 64脚 V = 100脚 Z = 144脚</li>
  <li>
    <p>8代表64K字节的闪存存储器</p>
  </li>
  <li>16~32K LD( Low Density ) 小容量产品</li>
  <li>64~128K MD( Medium Density ) 中容量产品</li>
  <li>256~511K HD 大容量产品</li>
  <li>
    <blockquote>
      <p>512K XD 加大容量产品</p>
    </blockquote>
  </li>
  <li>CL 互联型产品</li>
  <li>100型号产品会在后面加一个_VL</li>
</ul>

<p>这些在选头文件的时候根据自己型号选</p>

<ul>
  <li>T代表LQFP封装</li>
  <li>6是工业级温度范围 -40 ~ 85</li>
</ul>

<p>Keil5创建工程文件需要相应芯片的支持包，这个去网上找找就有了</p>
<h3 id="基本信息">基本信息</h3>

<ul>
  <li>内核：ARM Cortex-M3</li>
  <li>主频：72MHz</li>
  <li>RAM：20K SRAM</li>
  <li>ROM：64K Flash</li>
  <li>供电：2.0-3.6V 标准3.3V</li>
  <li>封装：LQFP48（48代表48引脚</li>
</ul>

<h3 id="片上资源--外设-peripheral">片上资源 / 外设 Peripheral</h3>
<p>我们先明确以下，<strong>外设</strong>指的就是以下这些东西，说是外设，但是<strong>他们都集成于片内</strong>!
外设都接在被称为<strong>总线</strong>的东西上，例如（AHB，APB1，APB2）
不同外设接在不同<strong>总线</strong>上，而像GPIO，ADC这种大部分都接在<strong>APB2</strong>上，<strong>APB2是高速外设总线</strong>!</p>

<p>而在使用外设前，我们需要<strong>启动这条总线的时钟</strong>
<strong>所有的数字电路</strong>（包括GPIO控制器）都需要一个<strong>时钟信号来同步工作</strong>。没有时钟，电路就无法执行任何操作，就像没有了心跳。</p>

<p>更详细的介绍见[[STM32 - 4 TIM中断概述#RCC时钟树]]</p>

<ul>
  <li><strong>NVIC (Nested Vectored Interrupt Controller)</strong>: 嵌套向量中断控制器
    <blockquote>
      <p>[!tip]
这是用来控制<strong>中断事件</strong>的外设，所有<strong>中断信号</strong>都要经过这里，排队由CPU执行</p>
    </blockquote>
  </li>
  <li><strong>SysTick</strong>: 系统滴答定时器，计时用的</li>
  <li><strong>RCC (Rest and Clock Control)</strong>: 复位和时钟控制</li>
  <li><strong>GPIO (General Purpose IO)</strong>: 通用IO口，输入和输出数据
    <blockquote>
      <p>[!tip]
我们一般的输入和输出都是在这里进行的</p>
    </blockquote>
  </li>
  <li><strong>AFIO (Alternate Function IO)</strong>: 复用IO口
    <blockquote>
      <p>[!tip]
可以用来激活GPIO口的复用功能，或者在多个GPIO口里选一个用于中断判断</p>
    </blockquote>
  </li>
  <li><strong>EXTI (External Interrupt/Event Controller)</strong>: 外部中断
    <blockquote>
      <p>[!tip]
中断见[[STM32 - 3 外部中断概述及EXTI中断概述]]，这个就是用于判断是否符合条件的</p>
    </blockquote>
  </li>
  <li><strong>TIM (Timer)</strong>: 分为高级定时器，通用定时器，基本定时器
    <blockquote>
      <p>[!tip]
TIM中断见[[STM32 - 4 TIM中断概述]]</p>
    </blockquote>
  </li>
  <li><strong>ADC (Analog-to-Digital Converter)</strong>: 模数转换器，可直接读IO口的电压值</li>
  <li><strong>DAC (Digital-to-Analog Converter)</strong>: 数模转换器，</li>
  <li><strong>DMA (Direct Memory Access)</strong>: 直接内存访问，帮CPU搬大量数据</li>
  <li><strong>USART (Universal Sync/Async Receiver/Transmitter)</strong>: 同步\异步串口通信</li>
  <li><strong>I2C\SPI\CAN\USB</strong>: 几种通信方式</li>
  <li><strong>RTC (RTC，Real Time Clock/Calendar)</strong>: 实时时钟，可以接备用电池</li>
  <li><strong>CRC</strong>: CRC校验</li>
  <li><strong>PWR (Power Control)</strong>: 电源控制，省电用的</li>
  <li><strong>BKP (Backup Register)</strong>: 备份寄存器，掉电时保持数据</li>
  <li><strong>IWDG (Independent WatchDog)</strong>:  独立看门狗，看芯片有没有异常</li>
  <li><strong>WWDG (Windowed WatchDog)</strong>: 窗口看门狗</li>
  <li><strong>SDIO (Secure Digital IO)</strong>: SD卡接口</li>
  <li><strong>FSMC (Flexible Static Memory Controller)</strong>: 可变静态存储控制器</li>
  <li><strong>USB OTG (USB On-the-go)</strong>: USB主机接口，可以读其他USB</li>
</ul>

<h3 id="引脚定义">引脚定义</h3>

<p>![[STM引脚.png]]</p>

<ul>
  <li><strong>S</strong>代表电源 <strong>I/O</strong>不解释</li>
  <li><strong>IO口电平</strong>： 有FT ( Five Tolerate ) 的可以容忍5V电压，否则只能容忍3.3V</li>
</ul>

<h5 id="提几个重要的">提几个重要的</h5>

<ul>
  <li><strong>VBAT</strong> 备用电源供电引脚，接3V电池</li>
  <li><strong>3,4</strong>接RTC的</li>
  <li><strong>7</strong>接复位电路，见下文，低电平复位</li>
  <li><strong>8,9 / 23.24,35,36,47,48(主电源口)</strong> VSS是负极，VDD是3.3Vb</li>
  <li><strong>STM采用分区供电，所以主电源口比较多</strong></li>
  <li><strong>10~19,25~33,41~43,45~46</strong> 都是IO口，<strong>20,44</strong>是IO或者Boot引脚（那些安卓刷机视频里的）</li>
  <li><strong>34,37~40</strong> 都是IO+调试端口，用于下载程序，我们使用SWD方式（STLINK），只占用34,37两个口</li>
</ul>

<blockquote>
  <p>[!attention]
注意，这些都只是STM32的引脚，至于封装之后给了多少就不一定了
像我们用的<strong>LQFP</strong>就是32引脚的，具体有什么片上都标了</p>
</blockquote>

<h2 id="下面是一些硬件上的知识">下面是一些硬件上的知识</h2>
<h3 id="启动配置">启动配置</h3>
<p>上文提到了20，44做Boot，即启动配置引脚</p>

<p>![[STM启动配置.png]]</p>

<p><strong>X0</strong> -&gt; 正常执行Flash闪存中的程序（常用）
<strong>01</strong> -&gt; 串口下载，例如，当上文提到的<strong>五个调试端口</strong>都被手动配置为IO口时，不存在下载端口，这时就用这种启动模式串流下载
<strong>11</strong> -&gt; 程序调试</p>

<h2 id="最小系统电路-1">最小系统电路 #1</h2>

<p>![[STM最小系统电路.png]]</p>

<ul>
  <li><strong>接电源</strong>时一般并一个电容稳压</li>
  <li>先说明以下，晶振和<strong>打点计时器</strong>差不多，也和高频红石差不多，就是定时产生红石信号的，STM一般是用8MHz，<strong>RTC</strong>功能需要另接一个32.768(2^15)KHz的晶振，然后<strong>接在3，4引脚</strong></li>
  <li><strong>复位电路</strong>很好理解，但是可能需要复习一下通用技术的内容了，不按按钮NRST(7号引脚)出<strong>高电平</strong>，按了就是<strong>低电平</strong></li>
  <li><strong>启动配置</strong>中<strong>H1</strong>相当于switch，可以决定boot引脚接3.3V还是GND</li>
  <li><strong>下载端口</strong>不多解释</li>
</ul>

<p><strong>当然，板子都帮我们印好了，以下是实物图</strong></p>

<p>![[STM32实物图.png]]</p>

<p><strong>USB接口</strong>同时也用来供电</p>

<p>[[Keil5工程建立]]</p>

  </div><a class="u-url" href="/2025/09/16/STM32-0-%E5%9F%BA%E7%A1%80.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">麦香包の超平坦世界</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">麦香包の超平坦世界</li><li><a class="u-email" href="mailto:MxBlacker@163.com">MxBlacker@163.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/MxBlacker"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">MxBlacker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
